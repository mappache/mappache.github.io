<!doctype html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>Sample Three.js</title>
		<!-- Position y overflow asi sirven para que no haya scroll -->
		<style>
			#container {
				background: #000;
				position: absolute;
				overflow: hidden;
				left: 0;
				top: 0;
				bottom: 0;
				right: 0;
			}
		</style>
	</head>
	<body>



	</body>

	<script src="../js/THREE/three.min.js"></script>
  <script src="../js/THREE/OrbitControls.js"></script>
	<script type="text/javascript">
  var WIDTH, HEIGHT, VIEW_ANGLE, ASPECT, NEAR, FAR;
  var renderer, loader, camera, scene, pointLight;
  var container, controls;
  var sphere, sphereMaterial;


	init();
	animate();

	function init() {	// set the scene size. With this it takes the size of the screen.
		WIDTH = window.innerWidth,
		HEIGHT = window.innerHeight;

		// set some camera attributes
		VIEW_ANGLE = 45,
		ASPECT = WIDTH / HEIGHT,
		NEAR = 0.1,
		FAR = 10000;

		// get the DOM element to attach to
		// - assume we've got jQuery to hand

		container = document.createElement( 'div' );
		container.id = 'container'
		document.body.appendChild( container );


		// create a WebGL renderer, camera
		// and a scene
		renderer = new THREE.WebGLRenderer();
		camera = new THREE.PerspectiveCamera(  VIEW_ANGLE,
			                            ASPECT,
			                            NEAR,
			                            FAR  );
		scene = new THREE.Scene();

		// the camera starts at 0,0,0 so pull it back
		camera.position.z = 300;

		// start the renderer
		renderer.setSize(WIDTH, HEIGHT);

		// attach the render-supplied DOM element
		//container.append(renderer.domElement);
		container.appendChild( renderer.domElement );

		// create the sphere's material
    sphereMaterial = new THREE.MeshPhongMaterial( {
       map: THREE.ImageUtils.loadTexture('textures/mappache2.png')
     } ); //aca si se caga, poner un material basico

		// set up the sphere vars
		var radius = 50, segments = 16, rings = 16;
    var spherePene = new THREE.SphereGeometry(radius, segments, rings);

		// create a new mesh with sphere geometry
		sphere = new THREE.Mesh( //aca en vez de usar sphereMaterial se podria usar el loader y buscar un obj.
		   spherePene,
		   sphereMaterial);
		sphere.scale.set(1,0.5,1);
		// add the sphere to the scene
		scene.add(sphere);

		// and the camera
		scene.add(camera);

		// create a point light
		pointLight = new THREE.PointLight( 0xFFFFFF );

		// set its position
		pointLight.position.x = 10;
		pointLight.position.y = 50;
		pointLight.position.z = 130;

		// add to the scene
		scene.add(pointLight);


		// draw!
		//render();//lo pase adentro de animate, fijarse.

		//test de lucio
		controls = new THREE.OrbitControls( camera, renderer.domElement ); //este es la posta
    controls.addEventListener( 'change', render );
    window.addEventListener( 'resize', onWindowResize, false );
 	}

  function onWindowResize() {

    camera.aspect = window.innerWidth / window.innerHeight;
    camera.updateProjectionMatrix();

    renderer.setSize( window.innerWidth, window.innerHeight );

  }

	function animate() {

  		requestAnimationFrame( animate );
  		controls.update();
      render(); //quiza mas feliz aca. sino adentro de onWindowResize().

	}
	function render() {
		renderer.render(scene, camera);
	}


	</script>
</html>
