<!DOCTYPE html>
<html>
<!-- include three.js -->
<script src='vendor/three.js/build/three.js'></script>
<script src='vendor/three.js/examples/js/libs/stats.min.js'></script>
<script src='js/three.min.js'></script>
<script src='js/OrbitControls.js'></script>
<script src='js/STLLoader.js'></script>

<head>
    <meta charset="UTF-8">
    <title>MappacheCo. Test</title>
   <style>
        body {
            background: #B6AFA9;
        }

        #context {
            width: 400px;
            height: 300px;
            margin: auto;
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
        }
    </style>
</head>

<body>
    <h1>
        MappacheCo. Testing Environment
    </h1>

<script>
    // Set up the scene, camera, and renderer as global variables.
    var scene, camera, renderer;

    init();
    animate();

    // Sets up the scene.
    function init() {
        // Create the scene and set the scene size.
        scene = new THREE.Scene();


        // Create a renderer and add it to the DOM.
        renderer = new THREE.WebGLRenderer({antialias:true, alpha:true});
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.body.appendChild(renderer.domElement);
        //renderer.domElement.id = "context";

        // Create a camera, zoom it out from the model a bit, and add it to the scene.
        camera = new THREE.PerspectiveCamera(45, WIDTH / HEIGHT, 0.1, 20000);
        camera.position.set(0,6,2);
        scene.add(camera);

        // Create an event listener that resizes the renderer with the browser window.
        window.addEventListener('resize', function() {
            var WIDTH = window.innerWidth,
                    HEIGHT = window.innerHeight;
            renderer.setSize(WIDTH, HEIGHT);
            camera.aspect = WIDTH / HEIGHT;
            camera.updateProjectionMatrix();
        });
        renderer.setClearColorHex(0x333F47, 1);

        // Create a light, set its position, and add it to the scene.
        var light = new THREE.PointLight(0xffffff);
        light.position.set(-100,200,100);
        scene.add(light);

        /*/ Add a white PointLight to the scene.
        var loader = new THREE.JSONLoader();
        loader.load( 'images/mappache.JSON', function(geometry){
            var material = new THREE.MeshLambertMaterial({color: 0x457371});
            mesh = new THREE.Mesh( geometry, material);
            scene.add(mesh);
        });  //loader de JSON */
        var markerObject3D = new THREE.Object3D()
        scene.add(markerObject3D)


        var loader = new THREE.STLLoader();
        loader.load( 'images/mappache2.stl', function ( geometry ) {
            var material = new THREE.MeshLambertMaterial({color: 0x457371});
            var logo = new THREE.Mesh( geometry, material);
            markerObject3D.add(logo);
              }); //loader de STL

        // Add OrbitControls so that we can pan around with the mouse.
        controls = new THREE.OrbitControls(camera, renderer.domElement);
    }

    // Renders the scene and updates the render as needed.
    function animate() {

        requestAnimationFrame( animate );
        renderer.render( scene, camera );
        controls.update();
    }
</script>
</body>
</html>